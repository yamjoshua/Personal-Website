{"ast":null,"code":"/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.PhotoSwipeUI_Default = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  var PhotoSwipeUI_Default = function (pswp, framework) {\n    var ui = this;\n\n    var _overlayUIUpdated = false,\n        _controlsVisible = true,\n        _fullscrenAPI,\n        _controls,\n        _captionContainer,\n        _fakeCaptionContainer,\n        _indexIndicator,\n        _shareButton,\n        _shareModal,\n        _shareModalHidden = true,\n        _initalCloseOnScrollValue,\n        _isIdle,\n        _listen,\n        _loadingIndicator,\n        _loadingIndicatorHidden,\n        _loadingIndicatorTimeout,\n        _galleryHasOneSlide,\n        _options,\n        _defaultUIOptions = {\n      barsSize: {\n        top: 44,\n        bottom: 'auto'\n      },\n      closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'],\n      timeToIdle: 4000,\n      timeToIdleOutside: 1000,\n      loadingIndicatorDelay: 1000,\n      // 2s\n      addCaptionHTMLFn: function (item, captionEl\n      /*, isFake */\n      ) {\n        if (!item.title) {\n          captionEl.children[0].innerHTML = '';\n          return false;\n        }\n\n        captionEl.children[0].innerHTML = item.title;\n        return true;\n      },\n      closeEl: true,\n      captionEl: true,\n      fullscreenEl: true,\n      zoomEl: true,\n      shareEl: true,\n      counterEl: true,\n      arrowEl: true,\n      preloaderEl: true,\n      tapToClose: false,\n      tapToToggleControls: true,\n      clickToCloseNonZoomable: true,\n      shareButtons: [{\n        id: 'facebook',\n        label: 'Share on Facebook',\n        url: 'https://www.facebook.com/sharer/sharer.php?u={{url}}'\n      }, {\n        id: 'twitter',\n        label: 'Tweet',\n        url: 'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'\n      }, {\n        id: 'pinterest',\n        label: 'Pin it',\n        url: 'http://www.pinterest.com/pin/create/button/' + '?url={{url}}&media={{image_url}}&description={{text}}'\n      }, {\n        id: 'download',\n        label: 'Download image',\n        url: '{{raw_image_url}}',\n        download: true\n      }],\n      getImageURLForShare: function ()\n      /* shareButtonData */\n      {\n        return pswp.currItem.src || '';\n      },\n      getPageURLForShare: function ()\n      /* shareButtonData */\n      {\n        return window.location.href;\n      },\n      getTextForShare: function ()\n      /* shareButtonData */\n      {\n        return pswp.currItem.title || '';\n      },\n      indexIndicatorSep: ' / ',\n      fitControlsWidth: 1200\n    },\n        _blockControlsTap,\n        _blockControlsTapTimeout;\n\n    var _onControlsTap = function (e) {\n      if (_blockControlsTap) {\n        return true;\n      }\n\n      e = e || window.event;\n\n      if (_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n        // reset idle timer\n        _onIdleMouseMove();\n      }\n\n      var target = e.target || e.srcElement,\n          uiElement,\n          clickedClass = target.getAttribute('class') || '',\n          found;\n\n      for (var i = 0; i < _uiElements.length; i++) {\n        uiElement = _uiElements[i];\n\n        if (uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name) > -1) {\n          uiElement.onTap();\n          found = true;\n        }\n      }\n\n      if (found) {\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n\n        _blockControlsTap = true; // Some versions of Android don't prevent ghost click event \n        // when preventDefault() was called on touchstart and/or touchend.\n        // \n        // This happens on v4.3, 4.2, 4.1, \n        // older versions strangely work correctly, \n        // but just in case we add delay on all of them)\t\n\n        var tapDelay = framework.features.isOldAndroid ? 600 : 30;\n        _blockControlsTapTimeout = setTimeout(function () {\n          _blockControlsTap = false;\n        }, tapDelay);\n      }\n    },\n        _fitControlsInViewport = function () {\n      return !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n    },\n        _togglePswpClass = function (el, cName, add) {\n      framework[(add ? 'add' : 'remove') + 'Class'](el, 'pswp__' + cName);\n    },\n        // add class when there is just one item in the gallery\n    // (by default it hides left/right arrows and 1ofX counter)\n    _countNumItems = function () {\n      var hasOneSlide = _options.getNumItemsFn() === 1;\n\n      if (hasOneSlide !== _galleryHasOneSlide) {\n        _togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\n        _galleryHasOneSlide = hasOneSlide;\n      }\n    },\n        _toggleShareModalClass = function () {\n      _togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n    },\n        _toggleShareModal = function () {\n      _shareModalHidden = !_shareModalHidden;\n\n      if (!_shareModalHidden) {\n        _toggleShareModalClass();\n\n        setTimeout(function () {\n          if (!_shareModalHidden) {\n            framework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n          }\n        }, 30);\n      } else {\n        framework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n        setTimeout(function () {\n          if (_shareModalHidden) {\n            _toggleShareModalClass();\n          }\n        }, 300);\n      }\n\n      if (!_shareModalHidden) {\n        _updateShareURLs();\n      }\n\n      return false;\n    },\n        _openWindowPopup = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n      pswp.shout('shareLinkClick', e, target);\n\n      if (!target.href) {\n        return false;\n      }\n\n      if (target.hasAttribute('download')) {\n        return true;\n      }\n\n      window.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,' + 'location=yes,width=550,height=420,top=100,left=' + (window.screen ? Math.round(screen.width / 2 - 275) : 100));\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      return false;\n    },\n        _updateShareURLs = function () {\n      var shareButtonOut = '',\n          shareButtonData,\n          shareURL,\n          image_url,\n          page_url,\n          share_text;\n\n      for (var i = 0; i < _options.shareButtons.length; i++) {\n        shareButtonData = _options.shareButtons[i];\n        image_url = _options.getImageURLForShare(shareButtonData);\n        page_url = _options.getPageURLForShare(shareButtonData);\n        share_text = _options.getTextForShare(shareButtonData);\n        shareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url)).replace('{{image_url}}', encodeURIComponent(image_url)).replace('{{raw_image_url}}', image_url).replace('{{text}}', encodeURIComponent(share_text));\n        shareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" ' + 'class=\"pswp__share--' + shareButtonData.id + '\"' + (shareButtonData.download ? 'download' : '') + '>' + shareButtonData.label + '</a>';\n\n        if (_options.parseShareButtonOut) {\n          shareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n        }\n      }\n\n      _shareModal.children[0].innerHTML = shareButtonOut;\n      _shareModal.children[0].onclick = _openWindowPopup;\n    },\n        _hasCloseClass = function (target) {\n      for (var i = 0; i < _options.closeElClasses.length; i++) {\n        if (framework.hasClass(target, 'pswp__' + _options.closeElClasses[i])) {\n          return true;\n        }\n      }\n    },\n        _idleInterval,\n        _idleTimer,\n        _idleIncrement = 0,\n        _onIdleMouseMove = function () {\n      clearTimeout(_idleTimer);\n      _idleIncrement = 0;\n\n      if (_isIdle) {\n        ui.setIdle(false);\n      }\n    },\n        _onMouseLeaveWindow = function (e) {\n      e = e ? e : window.event;\n      var from = e.relatedTarget || e.toElement;\n\n      if (!from || from.nodeName === 'HTML') {\n        clearTimeout(_idleTimer);\n        _idleTimer = setTimeout(function () {\n          ui.setIdle(true);\n        }, _options.timeToIdleOutside);\n      }\n    },\n        _setupFullscreenAPI = function () {\n      if (_options.fullscreenEl && !framework.features.isOldAndroid) {\n        if (!_fullscrenAPI) {\n          _fullscrenAPI = ui.getFullscreenAPI();\n        }\n\n        if (_fullscrenAPI) {\n          framework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n          ui.updateFullscreen();\n          framework.addClass(pswp.template, 'pswp--supports-fs');\n        } else {\n          framework.removeClass(pswp.template, 'pswp--supports-fs');\n        }\n      }\n    },\n        _setupLoadingIndicator = function () {\n      // Setup loading indicator\n      if (_options.preloaderEl) {\n        _toggleLoadingIndicator(true);\n\n        _listen('beforeChange', function () {\n          clearTimeout(_loadingIndicatorTimeout); // display loading indicator with delay\n\n          _loadingIndicatorTimeout = setTimeout(function () {\n            if (pswp.currItem && pswp.currItem.loading) {\n              if (!pswp.allowProgressiveImg() || pswp.currItem.img && !pswp.currItem.img.naturalWidth) {\n                // show preloader if progressive loading is not enabled, \n                // or image width is not defined yet (because of slow connection)\n                _toggleLoadingIndicator(false); // items-controller.js function allowProgressiveImg\n\n              }\n            } else {\n              _toggleLoadingIndicator(true); // hide preloader\n\n            }\n          }, _options.loadingIndicatorDelay);\n        });\n\n        _listen('imageLoadComplete', function (index, item) {\n          if (pswp.currItem === item) {\n            _toggleLoadingIndicator(true);\n          }\n        });\n      }\n    },\n        _toggleLoadingIndicator = function (hide) {\n      if (_loadingIndicatorHidden !== hide) {\n        _togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\n        _loadingIndicatorHidden = hide;\n      }\n    },\n        _applyNavBarGaps = function (item) {\n      var gap = item.vGap;\n\n      if (_fitControlsInViewport()) {\n        var bars = _options.barsSize;\n\n        if (_options.captionEl && bars.bottom === 'auto') {\n          if (!_fakeCaptionContainer) {\n            _fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\n            _fakeCaptionContainer.appendChild(framework.createEl('pswp__caption__center'));\n\n            _controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\n            framework.addClass(_controls, 'pswp__ui--fit');\n          }\n\n          if (_options.addCaptionHTMLFn(item, _fakeCaptionContainer, true)) {\n            var captionSize = _fakeCaptionContainer.clientHeight;\n            gap.bottom = parseInt(captionSize, 10) || 44;\n          } else {\n            gap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n          }\n        } else {\n          gap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n        } // height of top bar is static, no need to calculate it\n\n\n        gap.top = bars.top;\n      } else {\n        gap.top = gap.bottom = 0;\n      }\n    },\n        _setupIdle = function () {\n      // Hide controls when mouse is used\n      if (_options.timeToIdle) {\n        _listen('mouseUsed', function () {\n          framework.bind(document, 'mousemove', _onIdleMouseMove);\n          framework.bind(document, 'mouseout', _onMouseLeaveWindow);\n          _idleInterval = setInterval(function () {\n            _idleIncrement++;\n\n            if (_idleIncrement === 2) {\n              ui.setIdle(true);\n            }\n          }, _options.timeToIdle / 2);\n        });\n      }\n    },\n        _setupHidingControlsDuringGestures = function () {\n      // Hide controls on vertical drag\n      _listen('onVerticalDrag', function (now) {\n        if (_controlsVisible && now < 0.95) {\n          ui.hideControls();\n        } else if (!_controlsVisible && now >= 0.95) {\n          ui.showControls();\n        }\n      }); // Hide controls when pinching to close\n\n\n      var pinchControlsHidden;\n\n      _listen('onPinchClose', function (now) {\n        if (_controlsVisible && now < 0.9) {\n          ui.hideControls();\n          pinchControlsHidden = true;\n        } else if (pinchControlsHidden && !_controlsVisible && now > 0.9) {\n          ui.showControls();\n        }\n      });\n\n      _listen('zoomGestureEnded', function () {\n        pinchControlsHidden = false;\n\n        if (pinchControlsHidden && !_controlsVisible) {\n          ui.showControls();\n        }\n      });\n    };\n\n    var _uiElements = [{\n      name: 'caption',\n      option: 'captionEl',\n      onInit: function (el) {\n        _captionContainer = el;\n      }\n    }, {\n      name: 'share-modal',\n      option: 'shareEl',\n      onInit: function (el) {\n        _shareModal = el;\n      },\n      onTap: function () {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--share',\n      option: 'shareEl',\n      onInit: function (el) {\n        _shareButton = el;\n      },\n      onTap: function () {\n        _toggleShareModal();\n      }\n    }, {\n      name: 'button--zoom',\n      option: 'zoomEl',\n      onTap: pswp.toggleDesktopZoom\n    }, {\n      name: 'counter',\n      option: 'counterEl',\n      onInit: function (el) {\n        _indexIndicator = el;\n      }\n    }, {\n      name: 'button--close',\n      option: 'closeEl',\n      onTap: pswp.close\n    }, {\n      name: 'button--arrow--left',\n      option: 'arrowEl',\n      onTap: pswp.prev\n    }, {\n      name: 'button--arrow--right',\n      option: 'arrowEl',\n      onTap: pswp.next\n    }, {\n      name: 'button--fs',\n      option: 'fullscreenEl',\n      onTap: function () {\n        if (_fullscrenAPI.isFullscreen()) {\n          _fullscrenAPI.exit();\n        } else {\n          _fullscrenAPI.enter();\n        }\n      }\n    }, {\n      name: 'preloader',\n      option: 'preloaderEl',\n      onInit: function (el) {\n        _loadingIndicator = el;\n      }\n    }];\n\n    var _setupUIElements = function () {\n      var item, classAttr, uiElement;\n\n      var loopThroughChildElements = function (sChildren) {\n        if (!sChildren) {\n          return;\n        }\n\n        var l = sChildren.length;\n\n        for (var i = 0; i < l; i++) {\n          item = sChildren[i];\n          classAttr = item.className;\n\n          for (var a = 0; a < _uiElements.length; a++) {\n            uiElement = _uiElements[a];\n\n            if (classAttr.indexOf('pswp__' + uiElement.name) > -1) {\n              if (_options[uiElement.option]) {\n                // if element is not disabled from options\n                framework.removeClass(item, 'pswp__element--disabled');\n\n                if (uiElement.onInit) {\n                  uiElement.onInit(item);\n                } //item.style.display = 'block';\n\n              } else {\n                framework.addClass(item, 'pswp__element--disabled'); //item.style.display = 'none';\n              }\n            }\n          }\n        }\n      };\n\n      loopThroughChildElements(_controls.children);\n      var topBar = framework.getChildByClass(_controls, 'pswp__top-bar');\n\n      if (topBar) {\n        loopThroughChildElements(topBar.children);\n      }\n    };\n\n    ui.init = function () {\n      // extend options\n      framework.extend(pswp.options, _defaultUIOptions, true); // create local link for fast access\n\n      _options = pswp.options; // find pswp__ui element\n\n      _controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui'); // create local link\n\n      _listen = pswp.listen;\n\n      _setupHidingControlsDuringGestures(); // update controls when slides change\n\n\n      _listen('beforeChange', ui.update); // toggle zoom on double-tap\n\n\n      _listen('doubleTap', function (point) {\n        var initialZoomLevel = pswp.currItem.initialZoomLevel;\n\n        if (pswp.getZoomLevel() !== initialZoomLevel) {\n          pswp.zoomTo(initialZoomLevel, point, 333);\n        } else {\n          pswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n        }\n      }); // Allow text selection in caption\n\n\n      _listen('preventDragEvent', function (e, isDown, preventObj) {\n        var t = e.target || e.srcElement;\n\n        if (t && t.getAttribute('class') && e.type.indexOf('mouse') > -1 && (t.getAttribute('class').indexOf('__caption') > 0 || /(SMALL|STRONG|EM)/i.test(t.tagName))) {\n          preventObj.prevent = false;\n        }\n      }); // bind events for UI\n\n\n      _listen('bindEvents', function () {\n        framework.bind(_controls, 'pswpTap click', _onControlsTap);\n        framework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n        if (!pswp.likelyTouchDevice) {\n          framework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n        }\n      }); // unbind events for UI\n\n\n      _listen('unbindEvents', function () {\n        if (!_shareModalHidden) {\n          _toggleShareModal();\n        }\n\n        if (_idleInterval) {\n          clearInterval(_idleInterval);\n        }\n\n        framework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n        framework.unbind(document, 'mousemove', _onIdleMouseMove);\n        framework.unbind(_controls, 'pswpTap click', _onControlsTap);\n        framework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n        framework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n        if (_fullscrenAPI) {\n          framework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\n          if (_fullscrenAPI.isFullscreen()) {\n            _options.hideAnimationDuration = 0;\n\n            _fullscrenAPI.exit();\n          }\n\n          _fullscrenAPI = null;\n        }\n      }); // clean up things when gallery is destroyed\n\n\n      _listen('destroy', function () {\n        if (_options.captionEl) {\n          if (_fakeCaptionContainer) {\n            _controls.removeChild(_fakeCaptionContainer);\n          }\n\n          framework.removeClass(_captionContainer, 'pswp__caption--empty');\n        }\n\n        if (_shareModal) {\n          _shareModal.children[0].onclick = null;\n        }\n\n        framework.removeClass(_controls, 'pswp__ui--over-close');\n        framework.addClass(_controls, 'pswp__ui--hidden');\n        ui.setIdle(false);\n      });\n\n      if (!_options.showAnimationDuration) {\n        framework.removeClass(_controls, 'pswp__ui--hidden');\n      }\n\n      _listen('initialZoomIn', function () {\n        if (_options.showAnimationDuration) {\n          framework.removeClass(_controls, 'pswp__ui--hidden');\n        }\n      });\n\n      _listen('initialZoomOut', function () {\n        framework.addClass(_controls, 'pswp__ui--hidden');\n      });\n\n      _listen('parseVerticalMargin', _applyNavBarGaps);\n\n      _setupUIElements();\n\n      if (_options.shareEl && _shareButton && _shareModal) {\n        _shareModalHidden = true;\n      }\n\n      _countNumItems();\n\n      _setupIdle();\n\n      _setupFullscreenAPI();\n\n      _setupLoadingIndicator();\n    };\n\n    ui.setIdle = function (isIdle) {\n      _isIdle = isIdle;\n\n      _togglePswpClass(_controls, 'ui--idle', isIdle);\n    };\n\n    ui.update = function () {\n      // Don't update UI if it's hidden\n      if (_controlsVisible && pswp.currItem) {\n        ui.updateIndexIndicator();\n\n        if (_options.captionEl) {\n          _options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n          _togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n        }\n\n        _overlayUIUpdated = true;\n      } else {\n        _overlayUIUpdated = false;\n      }\n\n      if (!_shareModalHidden) {\n        _toggleShareModal();\n      }\n\n      _countNumItems();\n    };\n\n    ui.updateFullscreen = function (e) {\n      if (e) {\n        // some browsers change window scroll position during the fullscreen\n        // so PhotoSwipe updates it just in case\n        setTimeout(function () {\n          pswp.setScrollOffset(0, framework.getScrollY());\n        }, 50);\n      } // toogle pswp--fs class on root element\n\n\n      framework[(_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class'](pswp.template, 'pswp--fs');\n    };\n\n    ui.updateIndexIndicator = function () {\n      if (_options.counterEl) {\n        _indexIndicator.innerHTML = pswp.getCurrentIndex() + 1 + _options.indexIndicatorSep + _options.getNumItemsFn();\n      }\n    };\n\n    ui.onGlobalTap = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement;\n\n      if (_blockControlsTap) {\n        return;\n      }\n\n      if (e.detail && e.detail.pointerType === 'mouse') {\n        // close gallery if clicked outside of the image\n        if (_hasCloseClass(target)) {\n          pswp.close();\n          return;\n        }\n\n        if (framework.hasClass(target, 'pswp__img')) {\n          if (pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n            if (_options.clickToCloseNonZoomable) {\n              pswp.close();\n            }\n          } else {\n            pswp.toggleDesktopZoom(e.detail.releasePoint);\n          }\n        }\n      } else {\n        // tap anywhere (except buttons) to toggle visibility of controls\n        if (_options.tapToToggleControls) {\n          if (_controlsVisible) {\n            ui.hideControls();\n          } else {\n            ui.showControls();\n          }\n        } // tap to close gallery\n\n\n        if (_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target))) {\n          pswp.close();\n          return;\n        }\n      }\n    };\n\n    ui.onMouseOver = function (e) {\n      e = e || window.event;\n      var target = e.target || e.srcElement; // add class when mouse is over an element that should close the gallery\n\n      _togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n    };\n\n    ui.hideControls = function () {\n      framework.addClass(_controls, 'pswp__ui--hidden');\n      _controlsVisible = false;\n    };\n\n    ui.showControls = function () {\n      _controlsVisible = true;\n\n      if (!_overlayUIUpdated) {\n        ui.update();\n      }\n\n      framework.removeClass(_controls, 'pswp__ui--hidden');\n    };\n\n    ui.supportsFullscreen = function () {\n      var d = document;\n      return !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n    };\n\n    ui.getFullscreenAPI = function () {\n      var dE = document.documentElement,\n          api,\n          tF = 'fullscreenchange';\n\n      if (dE.requestFullscreen) {\n        api = {\n          enterK: 'requestFullscreen',\n          exitK: 'exitFullscreen',\n          elementK: 'fullscreenElement',\n          eventK: tF\n        };\n      } else if (dE.mozRequestFullScreen) {\n        api = {\n          enterK: 'mozRequestFullScreen',\n          exitK: 'mozCancelFullScreen',\n          elementK: 'mozFullScreenElement',\n          eventK: 'moz' + tF\n        };\n      } else if (dE.webkitRequestFullscreen) {\n        api = {\n          enterK: 'webkitRequestFullscreen',\n          exitK: 'webkitExitFullscreen',\n          elementK: 'webkitFullscreenElement',\n          eventK: 'webkit' + tF\n        };\n      } else if (dE.msRequestFullscreen) {\n        api = {\n          enterK: 'msRequestFullscreen',\n          exitK: 'msExitFullscreen',\n          elementK: 'msFullscreenElement',\n          eventK: 'MSFullscreenChange'\n        };\n      }\n\n      if (api) {\n        api.enter = function () {\n          // disable close-on-scroll in fullscreen\n          _initalCloseOnScrollValue = _options.closeOnScroll;\n          _options.closeOnScroll = false;\n\n          if (this.enterK === 'webkitRequestFullscreen') {\n            pswp.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);\n          } else {\n            return pswp.template[this.enterK]();\n          }\n        };\n\n        api.exit = function () {\n          _options.closeOnScroll = _initalCloseOnScrollValue;\n          return document[this.exitK]();\n        };\n\n        api.isFullscreen = function () {\n          return document[this.elementK];\n        };\n      }\n\n      return api;\n    };\n  };\n\n  return PhotoSwipeUI_Default;\n});","map":{"version":3,"sources":["/Users/yamjam/Documents/Portfolio/node_modules/photoswipe/dist/photoswipe-ui-default.js"],"names":["root","factory","define","amd","exports","module","PhotoSwipeUI_Default","pswp","framework","ui","_overlayUIUpdated","_controlsVisible","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_shareModalHidden","_initalCloseOnScrollValue","_isIdle","_listen","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_options","_defaultUIOptions","barsSize","top","bottom","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","item","captionEl","title","children","innerHTML","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","id","label","url","download","getImageURLForShare","currItem","src","getPageURLForShare","window","location","href","getTextForShare","indexIndicatorSep","fitControlsWidth","_blockControlsTap","_blockControlsTapTimeout","_onControlsTap","e","event","mouseUsed","_onIdleMouseMove","target","srcElement","uiElement","clickedClass","getAttribute","found","i","_uiElements","length","onTap","indexOf","name","stopPropagation","tapDelay","features","isOldAndroid","setTimeout","_fitControlsInViewport","likelyTouchDevice","screen","width","_togglePswpClass","el","cName","add","_countNumItems","hasOneSlide","getNumItemsFn","_toggleShareModalClass","_toggleShareModal","addClass","removeClass","_updateShareURLs","_openWindowPopup","shout","hasAttribute","open","Math","round","shareButtonOut","shareButtonData","shareURL","image_url","page_url","share_text","replace","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","hasClass","_idleInterval","_idleTimer","_idleIncrement","clearTimeout","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_setupFullscreenAPI","getFullscreenAPI","bind","document","eventK","updateFullscreen","template","_setupLoadingIndicator","_toggleLoadingIndicator","loading","allowProgressiveImg","img","naturalWidth","index","hide","_applyNavBarGaps","gap","vGap","bars","createEl","appendChild","insertBefore","captionSize","clientHeight","parseInt","_setupIdle","setInterval","_setupHidingControlsDuringGestures","now","hideControls","showControls","pinchControlsHidden","option","onInit","toggleDesktopZoom","close","prev","next","isFullscreen","exit","enter","_setupUIElements","classAttr","loopThroughChildElements","sChildren","l","className","a","topBar","getChildByClass","init","extend","options","scrollWrap","listen","update","point","initialZoomLevel","getZoomLevel","zoomTo","getDoubleTapZoom","isDown","preventObj","t","type","test","tagName","prevent","onGlobalTap","onMouseOver","clearInterval","unbind","hideAnimationDuration","removeChild","showAnimationDuration","isIdle","updateIndexIndicator","setScrollOffset","getScrollY","getCurrentIndex","detail","pointerType","fitRatio","releasePoint","supportsFullscreen","d","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dE","documentElement","api","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","closeOnScroll","Element","ALLOW_KEYBOARD_INPUT"],"mappings":"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","sourcesContent":["/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n"]},"metadata":{},"sourceType":"script"}